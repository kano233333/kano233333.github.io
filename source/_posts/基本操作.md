---
title: 基本操作
date: 2019-01-27 20:37:13
tags: 
  - mysql
---

window下mysql的基本操纵

<!--more-->

## 结构

![](/css/md-img/mysql_db.png)

## 用户

### 登录

>-h 连接主机名
>
>-u 用户名
>
>-p 输密码

````````````mysql
mysql -h localhost -u username -p
输密码
````````````

### 退出

``````mysql
exit;
``````

## 数据库

### 查看数据库

```mysql
show databases;
```

### 新建数据库

```````mysql
create database dbname;
```````

### 删除数据库

`````mysql
drop database dbname;
`````

### 选择数据库

> 选择要操作的数据库，使用该命令后后面的mysql命令全部针对该数据库

````mysql
use dbname;
````

## 表

### 查看表

````mysql
show tables;
````

### 查看表里的内容

```````mysql
select * from tablename;
```````

### 查看表列的内容属性

`````mysql
show columns from tablename;
`````

### 创建表

> - 基本
>
> ```````mysql
> create table tablename (
> ...
> );
> ```````

> - 是否为空
>
>   **null**
>
> ````mysql
> create table tablename (
> xxx type null,
> ...
> );
> ````
>
> ```mysql
> create table tablename (
> xxx type not null,
> ...
> );
> ```

> - 设置默认值
>
>   **defalut**
>
> ````mysql
> create table tablename (
> xxx type defalut xxx,
> ...
> );
> ````

> - 自增
>
> **auto_increment**
>
> ``````mysql
> create table tablename (
> xxx int not null auto_increment,
> ...
> );
> ``````

> - 主键
>
>   不允许为null
>
> **primary key**
>
> ```````mysql
> create table tablename (
> xxx int not null primary key,
> ...
> );
> ```````
>
> ```````mysql
> create table tablename (
> xxx int not null,
> ...,
> primary key(xxx)
> )
> ```````

> - 外键
>
>   **constraint** xxx **foreign key** (xxx) **references** table0(xxx);**
>
> ```````mysql
> create table one (
> id int not  null primary key,
> ...
> );
> 
> create table two (
> id int not null primary key,
> nid int not null,
> ...,
> constarint xxx foreign key (nid) references one(id) 
> )
> ```````
>
> 

### 删除表

````mysql
drop table tablename;
````

### 插入行

```````mysql
insert into tablename (...) values (...);
```````
### 删除行

`````mysql
delete from tablename where ...;
`````

### 修改行

```````mysql
update tablename set xxx=xxx where ...;
```````

### 清空表

```mysql
delete from tablename;
truncate table tablename;
```

### 插入列

`````````mysql
alter table tablename add column column_name type null ...;
`````````

### 删除列

``````mysql
alter table tablename drop column column_name;
``````

### 修改列名

```````````mysql
alter table tablename primaryName newName
```````````
### 添加主键

````````mysql
alter table tablename add primary key;
````````

### 删除主键

```````mysql
alter table tablename drop primary key;
```````

### 添加外键

````````mysql
alter table tablename __ add constraint __ foreign key (__) refrerences __(__)
````````

### 删除外键

`````mysql
alter atbel tablename __ drop foreign key __;
`````





25875