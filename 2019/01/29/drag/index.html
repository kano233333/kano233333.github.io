<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>+_+</title>
    <link rel="icon" href="css/img/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/media.css">
<link rel="stylesheet" href="/css/animation.css">
<link rel="stylesheet" href="/css/post.css">
    <script src="/js/common.js"></script>
</head>
<body>

<div id="container">
    <div class="container_left">
    <div id="nav">
    <div class="nav_wrapper">
        <ul class="nav_ul">
            
            <li class="nav_list">
                <a class="nav_link" href="/">Home</a>
            </li>
            
            <li class="nav_list">
                <a class="nav_link" href="https://github.com/kano233333">Github</a>
            </li>
            
        </ul>
    </div>
</div>
    </div>
    <!-- Main Content -->
    <div class="container_right">
    <div id="post_container">
    <h1 class="post_title">
        drag
    </h1>
    <hr>
    <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- draggable='true' 声明可以拖拽 ondragstart拖动发生的事件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'a'</span> <span class="attr">draggable</span>=<span class="string">'true'</span> <span class="attr">ondragstart</span>=<span class="string">'start(event)'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ondragover规定在何处放置被拖动的数据 ondrop放置被拖数据 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'b'</span> <span class="attr">ondragover</span>=<span class="string">'over(event)'</span> <span class="attr">ondrop</span>=<span class="string">'drop(event)'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">ev</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 设置被拖数据的数据类型(id)和值(xxx)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 方便获取被拖动元素的id与 下面getData相呼应</span></span></span><br><span class="line"><span class="javascript">        ev.dataTransfer.setData(<span class="string">'xxx'</span>,ev.target.id);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">over</span>(<span class="params">ev</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 阻止默认处理方式 (允许一个元素放在另一个元素上)</span></span></span><br><span class="line"><span class="undefined">        ev.preventDefault();</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">drop</span>(<span class="params">ev</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 阻止默认处理方式</span></span></span><br><span class="line"><span class="undefined">        ev.preventDefault();</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 相当于 获取被拖动元素的之前声明的数据类型(id)的值(a) 通过相同的值(xxx)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> data=ev.dataTransfer.getData(<span class="string">'xxx'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 将被拖元素放入目标中 (变成它的孩子)</span></span></span><br><span class="line"><span class="javascript">        ev.target.appendChild(<span class="built_in">document</span>.getElementById(data));</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>dataTransfer.setData(‘xx’,xx)  dataTransfer.getData(xx)</p>
<p>为了appendChild(document.querySelector(xxx))到拖动对象的className | id</p>
<p>如果知道className | id 也可以不用</p>

</div>
<div id="post_toc">
    
</div>

<script>
  cleanJIAO();
  // tocShow();
</script>

    </div>
</div>
</body>
</html>